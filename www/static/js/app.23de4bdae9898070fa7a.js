webpackJsonp([1],{"30K3":function(t,e){},"5CI2":function(t,e){},"7zck":function(t,e){},EbXW:function(t,e){},ID16:function(t,e){},"Ih1/":function(t,e,s){t.exports=s.p+"static/img/beetle.de5b274.png"},IsLa:function(t,e){},"McH/":function(t,e){},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("mvHQ"),n=s.n(a),i=(s("u7Vc"),s("7+uW")),c=s("3EgV"),o=s.n(c);s("7zck"),s("s6ZO");i.default.use(o.a);var r=s("/ocq");i.default.use(r.a);var l=new r.a({}),d=s("Xxa5"),u=s.n(d),v=s("exGp"),p=s.n(v),h=s("NYxO"),f=this;i.default.use(h.a);var m,g=new h.a.Store({state:{status:{menu:"hello",step:"",isOpen:!1,data:{passcode:"",repasscode:""}},selectedBox:[],peripheral:null,faceID:null,tel:null,boxs:[]},getters:{isMenu:function(t){return t.status.menu},isStep:function(t){return t.status.step},isOpen:function(t){return t.status.isOpen},getData:function(t){return t.status.data},getPasscode:function(t){return t.status.data.passcode},getRepasscode:function(t){return t.status.data.repasscode},getSelectedBox:function(t){return t.selectedBox[0]},getPeripheral:function(t){return t.peripheral},getFaceID:function(t){return t.faceID},getTel:function(t){return t.tel},getBoxs:function(t){return t.boxs}},mutations:{CLEAR_DETAILS:function(t){t.status.menu="",t.status.data.passcode="",t.status.data.repasscode="",t.peripheral=null,t.faceID=null,t.tel=null,t.selectedBox=[]},SET_BOXS:function(t,e){t.boxs=e},SET_TEL:function(t,e){t.tel=e},SET_FACEID:function(t,e){t.faceID=e},SET_PERIPHERAL:function(t,e){t.peripheral=e},CLEAR_PERIPHERAL:function(t){t.peripheral=[]},ADDSELECTED_BOX:function(t,e){t.selectedBox.push(e)},boxview:function(t,e){t.boxview=e},menu:function(t,e){t.menu=e},SET_MENU:function(t,e){t.status.menu=e},SET_STEP:function(t,e){t.status.step=e},SET_DATA:function(t,e){t.status.data=e},SET_PASSCODE:function(t,e){t.status.data.passcode=e},SET_REPASSCODE:function(t,e){t.status.data.repasscode=e},SET_ISOPEN:function(t,e){t.status.isOpen=e}},actions:{clearDetails:function(t){return(0,t.commit)("CLEAR_DETAILS")},setMenu:function(t,e){return(0,t.commit)("SET_MENU",e)},setStep:function(t,e){return(0,t.commit)("SET_STEP",e)},setData:function(t,e){return(0,t.commit)("SET_DATA",e)},setPasscode:function(t,e){return(0,t.commit)("SET_PASSCODE",e)},setRepasscode:function(t,e){return(0,t.commit)("SET_REPASSCODE",e)},setSelectedBox:function(t,e){return(0,t.commit)("ADDSELECTED_BOX",e)},setPeripheral:function(t,e){return(0,t.commit)("SET_PERIPHERAL",e)},clearPeripheral:function(t,e){return(0,t.commit)("CLEAR_PERIPHERAL")},setFaceID:function(t,e){return(0,t.commit)("SET_FACEID",e)},setTel:function(t,e){return(0,t.commit)("SET_TEL",e)},setBoxs:(m=p()(u.a.mark(function t(e,s){var a=e.commit;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a("SET_BOXS",s),console.log("BOX_FETCHED");case 2:case"end":return t.stop()}},t,f)})),function(t,e){return m.apply(this,arguments)}),setIsOpen:function(t,e){return(0,t.commit)("SET_ISOPEN",e)}}}),_=s("Dd8w"),x=s.n(_),S={name:"outline-label",props:{label:String}},b={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"border center",staticStyle:{"background-color":"#1867c0 !important"}},[e("div",{staticClass:"label",staticStyle:{color:"azure"}},[this._v(" \n        "+this._s(this.label)+"\n    ")])])},staticRenderFns:[]};var C=s("VU/8")(S,b,!1,function(t){s("ID16")},null,null).exports,w={name:"mainMenu",methods:x()({},Object(h.b)(["setMenu","setStep","setIsOpen"]),{nextTolist:function(){this.setMenu("list"),this.setStep("1")},nextToOpen:function(){this.setIsOpen(!0),this.setMenu("facereg")}})},E={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"container center content"},[e("div",[e("v-btn",{staticClass:"menu-btn",on:{click:this.nextTolist}},[this._v("Rent a box")])],1),this._v(" "),e("div",[e("v-btn",{staticClass:"menu-btn",on:{click:this.nextToOpen}},[this._v("Open a box")])],1)])},staticRenderFns:[]};var y=s("VU/8")(w,E,!1,function(t){s("TGpx")},"data-v-52ade5f6",null).exports,P=s("//Fk"),M=s.n(P),k=(s("o/zv"),s("/Luh"),{name:"boxrenting",props:["name","id"],data:function(){return{tel:""}},mounted:function(){},methods:x()({},Object(h.b)(["setMenu","setStep","setData","clearSelectedBox","setPeripheral"]),{bleConnect:function(t){var e=this;return new M.a(function(s,a){ble.connect(t,function(t){return console.log("PERIPHERAL"),console.log(t),e.setPeripheral(t),s(t)})})},rent:function(){var t=p()(u.a.mark(function t(){return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!=this.tel.length)try{console.log("CONNECT"),this.setMenu("faceReg"),this.setStep("3")}catch(t){console.log(t)}case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),goback:function(){this.clearSelectedBox(),this.setMenu("list"),this.setStep("1")},goto3:function(){this.$router.push({path:"/box/3"})},next:function(){this.tel.length>=8?(this.setMenu("faceReg"),this.setStep("3")):console.log("Tel min > 8")}}),computed:x()({},Object(h.c)(["isMenu","isStep","getData","getSelectedBox"]),{faceid:function(){var t=this.$refs.cam.faceid;return t}}),watch:{state:function(t){}}}),T={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"center"},[s("div",{staticStyle:{color:"#3B5998","font-size":"72px"}},[t._v(t._s(t.getSelectedBox.name))]),t._v(" "),s("div",{staticStyle:{"font-size":"64px","margin-bottom":"25px"}},[t._v(t._s(t.getSelectedBox.price)+" Baht/hr")]),t._v(" "),s("div",{staticStyle:{"font-size":"18px",color:"#FF0000","margin-bottom":"35px"}},[t._v("Input your to telephone number in case of forgot your box")]),t._v(" "),s("div",{staticStyle:{"margin-top":"25px","margin-bottom":"10px","margin-left":"20%"}},[s("v-text-field",{staticStyle:{width:"95%"},attrs:{label:"Solo",placeholder:"Telephone No.",solo:""},model:{value:t.tel,callback:function(e){t.tel=e},expression:"tel"}})],1),t._v(" "),s("div",{staticStyle:{"margin-bottom":"25px"}},[s("v-btn",{staticStyle:{width:"330px",height:"100px","background-color":"#3B5998",color:"#FFFFFF","font-size":"28px"},on:{click:this.rent}},[t._v("Rent a box")])],1),t._v(" "),s("div",[s("v-btn",{staticStyle:{width:"330px",height:"100px","font-size":"28px"},on:{click:this.goback}},[t._v("Back to box select")])],1)])])},staticRenderFns:[]};var D=s("VU/8")(k,T,!1,function(t){s("eMSt")},null,null).exports,O={name:"box",props:{name:String,status:String,uuid:String,price:Number,index:Number},data:function(){return{id:this.uuid}},methods:x()({},Object(h.b)(["setMenu","setStep","setData","setSelectedBox"]),{next:function(){var t={id:this.id,name:this.name,price:this.price,index:this.index};this.setSelectedBox(t),this.setMenu("faceReg"),this.setStep("3")}}),mounted:function(){},computed:x()({},Object(h.c)(["isMenu","isStep","data"]))},B={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("v-card",{staticClass:"h-center",staticStyle:{"text-align":"center",margin:"0px",height:"21vh","background-color":"#33c0ca"},attrs:{flat:"",tile:""}},[s("v-btn",{on:{click:function(e){t.next()}}},[t._v("click")])],1)],1)},staticRenderFns:[]},R=s("VU/8")(O,B,!1,null,null,null).exports,A={name:"boxlist",data:function(){return{boxs:[]}},methods:x()({},Object(h.b)(["setMenu","setStep","setData"]),{onScroll:function(t){this.offsetTop=t.target.scrollTop}}),created:function(){var t=this;return p()(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.boxs=t.getBoxs,console.log(t.boxs);case 2:case"end":return e.stop()}},e,t)}))()},components:{Box:R},mounted:function(){},computed:x()({},Object(h.c)(["getBoxs"]))},I={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"scroll-y",staticStyle:{"max-height":"86vh","min-height":"86vh","background-color":"#DBD8D8"},attrs:{id:"scroll-target"}},[e("v-card",{staticStyle:{border:"0px","background-color":"#DBD8D8"}},[e("v-layout",{directives:[{name:"scroll",rawName:"v-scroll:#scroll-target",value:this.onScroll,expression:"onScroll",arg:"#scroll-target"}],attrs:{row:"",wrap:""}},this._l(this.boxs,function(t,s){return e("v-flex",{key:t.uuid,staticClass:"flex-padding",attrs:{xs4:""}},[e("box",{staticStyle:{margin:"5% 5% 5% 5%"},attrs:{index:s,price:t.price,name:t.name,status:t.status,uuid:t.uuid}})],1)}))],1)],1)},staticRenderFns:[]};var F=s("VU/8")(A,I,!1,function(t){s("EbXW")},null,null).exports,L=function(t,e){for(var s=0;s<t.characteristics.length;s++){var a=t.characteristics[s];if("Write"==a.properties){for(var n=new Uint8Array(e.length),i=0,c=e.length;i<c;i++)n[i]=e.charCodeAt(i);ble.write(t.id,a.service,a.characteristic,n.buffer,function(){console.log("k")},function(){console.log("f")})}}},z={name:"receipt",data:function(){return{time:3,alert:!1}},computed:x()({},Object(h.c)(["getSelectedBox","getPeripheral"])),mounted:function(){console.log("COUNTDOWN"),this.countdown()},methods:x()({},Object(h.b)(["setMenu","setStep","setData","clearDetails","setPeripheral"]),{countdown:function(){var t=this,e=setInterval(function(){t.time-=1,0==t.time&&(console.log("OPEN AND STOP"),t.showAlert(),clearInterval(e))},1e3)},showAlert:function(){var t=p()(u.a.mark(function t(){var e=this;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:console.log("Alert Show"),this.alert=!0,setTimeout(function(){e.alert=!1,console.log("Alert hide"),e.setMenu("hello"),e.setStep("0"),e.clearDetails()},2e3);case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),openBox:function(){L(this.getPeripheral,"ON")},closeBox:function(){L(this.getPeripheral,"OFF")}})},j={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",{staticClass:"center"},[t._m(0),t._v(" "),s("div",{staticStyle:{color:"green","font-size":"350%"}},[t._v("Successfully")]),t._v(" "),s("div",{staticClass:"margin",staticStyle:{"font-size":"250%"}},[t._v(t._s(t.getSelectedBox.name))]),t._v(" "),s("div",{staticStyle:{"font-size":"250%"}},[t._v("Box will open in "+t._s(t.time)+" second")]),t._v(" "),s("v-dialog",{attrs:{width:"500"},model:{value:t.alert,callback:function(e){t.alert=e},expression:"alert"}},[s("v-card",[s("v-card-title",{staticClass:"headline grey lighten-2 center",attrs:{"primary-title":""}},[t._v("\n                    Thank you\n                ")]),t._v(" "),s("v-card-text",{staticClass:"center"},[t._v("\n                    Thank you for choosing us. Your box is opened\n                ")])],1)],1)],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("img",{staticStyle:{width:"35%",height:"35%"},attrs:{src:s("X8zv"),alt:""}})])}]};var $=s("VU/8")(z,j,!1,function(t){s("5CI2")},"data-v-7491f67f",null).exports,N={name:"rentingstep",data:function(){return{}},methods:x()({},Object(h.b)(["setMenu","setStep","setData","clearSelectedBox"]),{backToMenu:function(){this.clearSelectedBox(),this.setMenu("hello"),this.setStep("0")}}),watch:{isStep:function(){var t=p()(u.a.mark(function t(e,s){var a,n;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=parseInt(e)-1,s=parseInt(s)-1,a=this.$refs.step.children[e],n=this.$refs.step.children[s],s<0?a.classList.add("inActive"):(a.classList.add("inActive"),n.classList.remove("inActive"));case 5:case"end":return t.stop()}},t,this)}));return function(e,s){return t.apply(this,arguments)}}()},computed:x()({},Object(h.c)(["isMenu","isStep","data"])),mounted:function(){this.setStep("1")}},U={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"step"},[s("div",{ref:"1",staticClass:"inActive",attrs:{id:"0"}},[t._v("1. Select a Beetle box")]),t._v(" "),s("div",{ref:"2",attrs:{id:"1"}},[t._v("2. Comfirm renting")]),t._v(" "),s("div",{ref:"3",attrs:{id:"2"}},[t._v("3. Face Recognition")]),t._v(" "),s("div",{ref:"4",attrs:{id:"3"}},[t._v("4. Set passcode")]),t._v(" "),s("div",{ref:"5",attrs:{id:"4"}},[t._v("5. Confirm passcode")]),t._v(" "),s("div",{ref:"6",attrs:{id:"5"}},[t._v("6. Success")]),t._v(" "),1==t.isStep&&2==t.isStep&&3==t.isStep&&4==t.isStep&&5==t.isStep?s("div",{staticStyle:{position:"absolute",bottom:"0",width:"85%"}},[s("v-btn",{staticClass:"menu-btn",staticStyle:{width:"100%",height:"6vh","background-color":"#3B5998",margin:"8% 0% 8% 0%","font-size":"100%",color:"#FFFFFF"},on:{click:t.backToMenu}},[t._v("Back to menu")])],1):t._e()])},staticRenderFns:[]},V=s("VU/8")(N,U,!1,null,null,null).exports,H={name:"faceReg",data:function(){return{faceid:""}},methods:x()({},Object(h.b)(["setMenu","setStep","setData","setFaceID"]),{startCameraAbove:function(){CameraPreview.startCamera({x:50,y:50,width:819,height:614,toBack:!1,previewDrag:!1,tapPhoto:!0})},startCameraBelow:function(){CameraPreview.startCamera({x:50,y:50,width:300,height:300,camera:"front",tapPhoto:!0,previewDrag:!1,toBack:!0})},stopCamera:function(){CameraPreview.stopCamera()},takePicture:function(){var t,e=this;CameraPreview.takePicture((t=p()(u.a.mark(function t(s){var a,i,c,o,r,l,d,v,p,h,f,m,g;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(t.prev=0,e.hide(),a=s.toString(),i=atob(a.replace(/\s/g,"")),console.log(i),c=i.length,o=new ArrayBuffer(c),r=new Uint8Array(o),l=0;l<c;l++)r[l]=i.charCodeAt(l);return d=new Blob([r],{type:"image/jpeg"}),v=Number(new Date),p=e.$storage.child("photos/"+v+".jpeg"),t.next=14,p.put(d);case 14:return h=t.sent,console.log("UPLOAD"),console.log(h),t.next=19,p.getDownloadURL();case 19:return f=t.sent,console.log("DOWNLOAD"),console.log(f),m={url:"https://southeastasia.api.cognitive.microsoft.com/face/v1.0/detect?returnFaceId=true&returnFaceLandmarks=false",data:{url:f},method:"POST",headers:{"Ocp-Apim-Subscription-Key":"863c391b338e49e7995d2fdeb9a4477c"}},t.next=25,e.axios(m);case 25:g=t.sent,console.log("FACE"),console.log(n()(g)),e.isOpen,t.next=35;break;case 31:t.prev=31,t.t0=t.catch(0),console.log("ERROR"),console.log(t.t0);case 35:case"end":return t.stop()}},t,e,[[0,31]])})),function(e){return t.apply(this,arguments)}))},switchCamera:function(){CameraPreview.switchCamera()},show:function(){CameraPreview.show()},hide:function(){CameraPreview.hide()},changeColorEffect:function(){var t=document.getElementById("selectColorEffect").value;CameraPreview.setColorEffect(t)},changeFlashMode:function(){var t=document.getElementById("selectFlashMode").value;CameraPreview.setFlashMode(t)},changeZoom:function(){var t=document.getElementById("zoomSlider").value;document.getElementById("zoomValue").innerHTML=t,CameraPreview.setZoom(t)},changePreviewSize:function(){window.smallPreview=!window.smallPreview,window.smallPreview?CameraPreview.setPreviewSize({width:100,height:100}):CameraPreview.setPreviewSize({width:window.screen.width,height:window.screen.height})},showSupportedPictureSizes:function(){CameraPreview.getSupportedPictureSizes(function(t){t.forEach(function(t){console.log(t.width+"x"+t.height)})})}}),computed:x()({},Object(h.c)(["isMenu","isStep","getData","isOpen"])),mounted:function(){var t=this;this.show(),this.startCameraAbove(),setTimeout(function(){t.takePicture()},3e3)}},X={render:function(){var t=this.$createElement;return(this._self._c||t)("div")},staticRenderFns:[]};var W=s("VU/8")(H,X,!1,function(t){s("oDgr")},"data-v-ab34b8ba",null).exports,K={name:"passcodepad",data:function(){return{code:[]}},methods:x()({},Object(h.b)(["setMenu","setStep","setData","setPasscode","setRepasscode"]),{addCode:function(t){this.code.push(t)}}),watch:{passcode:function(t){var e=this;6==this.code.length&&("passcode"==this.isMenu?(this.setPasscode(this.passcode),this.setMenu("setpasscode"),setTimeout(function(){e.code=[]},500)):"repasscode"==this.isMenu&&(this.setRepasscode(this.passcode),this.setMenu("checkpasscode"),setTimeout(function(){e.code=[]},500)))}},computed:x()({},Object(h.c)(["isMenu","isStep","getData","getPasscode","getRepasscode"]),{passcode:function(){var t="";return this.code.forEach(function(e){t+=e.toString()}),t}})},G={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",{staticClass:"background"},[s("div",{staticClass:"center"},[s("v-layout",{attrs:{row:"",wrap:""}},[0==t.code.length?s("v-flex",{staticClass:"h-center",staticStyle:{"margin-bottom":"15px"},attrs:{xs12:""}},[s("div",{staticClass:"dashed"}),t._v(" "),s("div",{staticClass:"dashed"}),t._v(" "),s("div",{staticClass:"dashed"}),t._v(" "),s("div",{staticClass:"dashed"}),t._v(" "),s("div",{staticClass:"dashed"}),t._v(" "),s("div",{staticClass:"dashed"})]):t._e(),t._v(" "),1==t.code.length?s("v-flex",{staticClass:"h-center",staticStyle:{"margin-bottom":"15px"},attrs:{xs12:""}},[s("div",{staticClass:"dashed"},[t._v("•")]),t._v(" "),s("div",{staticClass:"dashed"}),t._v(" "),s("div",{staticClass:"dashed"}),t._v(" "),s("div",{staticClass:"dashed"}),t._v(" "),s("div",{staticClass:"dashed"}),t._v(" "),s("div",{staticClass:"dashed"})]):t._e(),t._v(" "),2==t.code.length?s("v-flex",{staticClass:"h-center",staticStyle:{"margin-bottom":"15px"},attrs:{xs12:""}},[s("div",{staticClass:"dashed"},[t._v("•")]),t._v(" "),s("div",{staticClass:"dashed"},[t._v("•")]),t._v(" "),s("div",{staticClass:"dashed"}),t._v(" "),s("div",{staticClass:"dashed"}),t._v(" "),s("div",{staticClass:"dashed"}),t._v(" "),s("div",{staticClass:"dashed"})]):t._e(),t._v(" "),3==t.code.length?s("v-flex",{staticClass:"h-center",staticStyle:{"margin-bottom":"15px"},attrs:{xs12:""}},[s("div",{staticClass:"dashed"},[t._v("•")]),t._v(" "),s("div",{staticClass:"dashed"},[t._v("•")]),t._v(" "),s("div",{staticClass:"dashed"},[t._v("•")]),t._v(" "),s("div",{staticClass:"dashed"}),t._v(" "),s("div",{staticClass:"dashed"}),t._v(" "),s("div",{staticClass:"dashed"})]):t._e(),t._v(" "),4==t.code.length?s("v-flex",{staticClass:"h-center",staticStyle:{"margin-bottom":"15px"},attrs:{xs12:""}},[s("div",{staticClass:"dashed"},[t._v("•")]),t._v(" "),s("div",{staticClass:"dashed"},[t._v("•")]),t._v(" "),s("div",{staticClass:"dashed"},[t._v("•")]),t._v(" "),s("div",{staticClass:"dashed"},[t._v("•")]),t._v(" "),s("div",{staticClass:"dashed"}),t._v(" "),s("div",{staticClass:"dashed"})]):t._e(),t._v(" "),5==t.code.length?s("v-flex",{staticClass:"h-center",staticStyle:{"margin-bottom":"15px"},attrs:{xs12:""}},[s("div",{staticClass:"dashed"},[t._v("•")]),t._v(" "),s("div",{staticClass:"dashed"},[t._v("•")]),t._v(" "),s("div",{staticClass:"dashed"},[t._v("•")]),t._v(" "),s("div",{staticClass:"dashed"},[t._v("•")]),t._v(" "),s("div",{staticClass:"dashed"},[t._v("•")]),t._v(" "),s("div",{staticClass:"dashed"})]):t._e(),t._v(" "),6==t.code.length?s("v-flex",{staticClass:"h-center",staticStyle:{"margin-bottom":"15px"},attrs:{xs12:""}},[s("div",{staticClass:"dashed"},[t._v("•")]),t._v(" "),s("div",{staticClass:"dashed"},[t._v("•")]),t._v(" "),s("div",{staticClass:"dashed"},[t._v("•")]),t._v(" "),s("div",{staticClass:"dashed"},[t._v("•")]),t._v(" "),s("div",{staticClass:"dashed"},[t._v("•")]),t._v(" "),s("div",{staticClass:"dashed"},[t._v("•")])]):t._e(),t._v(" "),t._l(9,function(e){return s("v-flex",{key:e,staticClass:"flex-padding circle",attrs:{xs4:""}},[s("div",{staticClass:"circleNo ripple",on:{click:function(s){t.addCode(e)}}},[t._v("\n                        "+t._s(e)+"\n                    ")])])}),t._v(" "),s("v-flex",{staticClass:"circle",attrs:{row:""}},[s("div",{staticClass:"circleNo ripple",on:{click:function(e){t.addCode(0)}}},[t._v("\n                        0\n                    ")])])],2)],1)])])},staticRenderFns:[]};var Z=s("VU/8")(K,G,!1,function(t){s("IsLa")},"data-v-9ecb35ee",null).exports,q=s("162o"),Q={name:"mainpage",components:{hello:y,renting:D,list:F,RentingStep:V,OutlineLabel:C,faceReg:W,passcode:Z,repasscode:Z,checkpasscode:Z,receipt:$},data:function(){return{dialog:!1,boxs:[],passcode:{passcode:"",repasscode:""}}},computed:x()({},Object(h.c)(["isMenu","isStep","getData","getPasscode","getRepasscode","getSelectedBox","getTel"]),{currentPage:function(){return this.$route.path.split("/")[1]},state:function(){var t=this.$stror.state;return t}}),watch:{isMenu:function(){var t=p()(u.a.mark(function t(e){var s,a,n,i,c=this;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log(e),"setpasscode"!=e){t.next=5;break}""!=this.getPasscode&&(this.passcode.passcode=this.getPasscode,console.log(this.passcode.passcode),this.setMenu("repasscode"),this.setStep("5")),t.next=24;break;case 5:if("checkpasscode"!=e){t.next=24;break}if(""==this.getRepasscode){t.next=24;break}if(this.dialog=!0,this.passcode.repasscode,this.getRepasscode,1!=(s=this.checkPasscode(this.passcode.passcode,this.getRepasscode))){t.next=22;break}return console.log(s),a=Number(new Date),n={checkin:a,checkout:"",cost:this.getSelectedBox.price,faceid:this.getFaceID,name:this.getSelectedBox.name,password:this.getPasscode,telnumber:this.getTel,uuid:this.getSelectedBox.id},i=this.$db.collection("transactions").doc("email"),t.next=17,i.update({transactions:this.$db.FieldValue.arrayUnion(n)});case 17:t.sent,console.log(addTransactions),Object(q.setTimeout)(function(){c.dialog=!1,c.setMenu("receipt"),c.setStep("6")},1e3),t.next=24;break;case 22:console.log(s),Object(q.setTimeout)(function(){console.log("not match"),c.setMenu("passcode"),c.setStep("4"),c.dialog=!1},1e3);case 24:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},methods:x()({},Object(h.b)(["setMenu","setStep","setData","setPasscode","setRepasscode","setBoxs"]),{checkPasscode:function(t,e){return t==e}}),beforeMount:function(){var t=this;return p()(u.a.mark(function e(){var s,a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$db.collection("boxs").doc("email").get();case 3:s=e.sent,a=s.data().boxs,t.setBoxs(a),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:t.dialog=!0,Object(q.setTimeout)(function(){t.dialog=!1},3200);case 13:case"end":return e.stop()}},e,t,[[0,8]])}))()}},Y={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{staticClass:"fullscreen fontcolor"},[a("v-layout",{staticClass:"background-img",attrs:{row:"",wrap:""}},[a("v-flex",{staticStyle:{padding:"0px","padding-top":"0px","padding-left":"0px","border-shadow":"0px"},attrs:{xs4:""}},[a("div",{staticStyle:{"max-height":"100vh","min-height":"100vh",border:"0px"},attrs:{id:"scroll-target"}},[a("v-card",{staticClass:"sidebar"},[a("div",{staticClass:"sidebarheader"},[a("div",{staticStyle:{"margin-top":"4%"}},[a("img",{staticClass:"sidebar-logo",attrs:{src:s("X8zv")}})]),t._v(" "),a("div",{staticClass:"sidebar-text"},[t._v("\n                            SMART MOBILE LOCKER\n                        ")])]),t._v(" "),a("div",{staticClass:"sidebartitle center"},[t._v("Instruction")]),t._v(" "),a("div",{staticClass:"content-container"},[a("div",{staticClass:"sidebarcontent sidebarcontentText"},[a("transition",{attrs:{name:"slide-y-transition"}},["hello"==t.isMenu?a("div",[a("div",{staticClass:"inActive"},[t._v("1. Select Menu")])]):t._e()]),t._v(" "),a("transition",{attrs:{name:"fade"}},["list"==t.isMenu||"renting"==t.isMenu||"faceReg"==t.isMenu||"passcode"==t.isMenu||"repasscode"==t.isMenu||"receipt"==t.isMenu||"checkpasscode"==t.isMenu?a("div",{ref:"boxview"},[a("renting-step")],1):t._e()])],1)])])],1)]),t._v(" "),a("v-flex",{staticStyle:{padding:"0px","padding-left":"0px","padding-top":"0px"},attrs:{xs8:""}},[a("div",{staticClass:"navbar"},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs2:""}},[a("div",{staticClass:"h-center",staticStyle:{"min-height":"14vh","max-height":"14vh"}},[a("img",{staticClass:"navBeetle",attrs:{src:s("Ih1/"),alt:""}})])]),t._v(" "),a("v-flex",{attrs:{xs10:""}},[a("div",{staticClass:"h-center",staticStyle:{"min-height":"14vh","max-height":"14vh",padding:"4% 4% 4% 0%"}},["hello"==t.isMenu?a("div",{staticClass:"navHeader h-center"},[t._v("\n                      Welcome\n                    ")]):t._e(),t._v(" "),"list"==t.isMenu||"renting"==t.isMenu||"faceReg"==t.isMenu||"passcode"==t.isMenu||"repasscode"==t.isMenu||"receipt"==t.isMenu||"checkpasscode"==t.isMenu?a("div",{staticClass:"navHeader h-center"},[a("transition",{attrs:{name:"fade"}},[1==t.isStep?a("div",[t._v("Select a Beetle box")]):2==t.isStep?a("div",[t._v("Comfirm renting")]):3==t.isStep?a("div",[t._v("Face Recognitio")]):4==t.isStep?a("div",[t._v("Set passcode")]):5==t.isStep?a("div",[t._v("Confirm passcode")]):6==t.isStep?a("div",[t._v("Success")]):t._e()])],1):t._e()])])],1)],1),t._v(" "),a("div",{staticClass:"content"},[a("transition",{attrs:{name:"fade"}},[a(t.isMenu,{tag:"component"})],1)],1)])],1),t._v(" "),a("v-dialog",{attrs:{persistent:"",width:"300",lazy:""},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",{attrs:{color:"indigo",dark:""}},[a("v-card-text",[t._v("\n          Loading...\n          "),a("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1)],1)],1)},staticRenderFns:[]};var J={name:"app",beforeMount:function(){var t=this;return p()(u.a.mark(function e(){return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},e,t)}))()},components:{MainPage:s("VU/8")(Q,Y,!1,function(t){s("McH/"),s("30K3")},"data-v-1c9a7e6e",null).exports}},tt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("transition",[e("main-page")],1)},staticRenderFns:[]};var et=s("VU/8")(J,tt,!1,function(t){s("pGE4")},"data-v-2320da63",null).exports,st=s("mtWM"),at=s.n(st),nt=s("Rf8U"),it=s.n(nt),ct=s("wmKo"),ot=s.n(ct),rt=s("kxiW"),lt=s.n(rt);s("881v");i.default.use(ot.a);var dt=lt.a.initializeApp({apiKey:"AIzaSyDlxhs9sd8m_qWoqKXy1K-2XXfZxa6UUoQ",authDomain:"beetle-demo.firebaseapp.com",databaseURL:"https://beetle-demo.firebaseio.com",projectId:"beetle-demo",storageBucket:"beetle-demo.appspot.com",messagingSenderId:"68357144215"}),ut=dt.firestore(),vt=dt.storage().ref();ut.settings({timestampsInSnapshots:!0}),i.default.prototype.$db=ut,i.default.prototype.$storage=vt,i.default.use(it.a,at.a),i.default.config.productionTip=!1;var pt=new i.default({el:"#app",router:l,store:g,template:"<App/>",components:{App:et},methods:{init:function(){ble.startScan([],function(t){console.log(n()(t))},function(t){console.log(t)}),setTimeout(ble.stopScan,5e3,function(){console.log("Scan complete")},function(){console.log("stopScan failed")})}}});document.addEventListener("deviceready",pt.init,function(t){console.log(t)})},TGpx:function(t,e){},X8zv:function(t,e,s){t.exports=s.p+"static/img/logo.51d5292.png"},eMSt:function(t,e){},oDgr:function(t,e){},pGE4:function(t,e){},s6ZO:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.23de4bdae9898070fa7a.js.map